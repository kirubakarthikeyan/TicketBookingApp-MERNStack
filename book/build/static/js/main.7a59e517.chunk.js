(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){},39:function(e,t,a){e.exports=a(76)},44:function(e,t,a){},46:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},76:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"getScreen",function(){return f}),a.d(n,"addScreen",function(){return v}),a.d(n,"addScreen_failed",function(){return g}),a.d(n,"addScreen_reset",function(){return y}),a.d(n,"getOneScreen",function(){return k}),a.d(n,"resetOneScreen",function(){return N}),a.d(n,"reserveTickets",function(){return O});var r=a(0),s=a.n(r),c=a(32),l=a.n(c),o=(a(44),a(2)),i=a(3),u=a(7),m=a(6),d=a(8),p=(a(46),a(16),a(17),a(11),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"collapse bg-dark",id:"navbarHeader"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-8 col-md-7 py-4"},s.a.createElement("h4",{className:"text-white"},"About"),s.a.createElement("p",{className:"text-muted"},"Add some information about the album below, the author, or any other background context. Make it a few sentences long so folks can pick up some informative tidbits. Then, link them off to some social networking sites or contact information.")),s.a.createElement("div",{className:"col-sm-4 offset-md-1 py-4"},s.a.createElement("h4",{className:"text-white"},"Contact"),s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("li",null,s.a.createElement("a",{href:"#",className:"text-white"},"Follow on Twitter")),s.a.createElement("li",null,s.a.createElement("a",{href:"#",className:"text-white"},"Like on Facebook")),s.a.createElement("li",null,s.a.createElement("a",{href:"#",className:"text-white"},"Email me"))))))),s.a.createElement("div",{className:"navbar navbar-dark bg-dark shadow-sm"},s.a.createElement("div",{className:"container d-flex justify-content-between"},s.a.createElement("div",null,s.a.createElement("button",{"data-toggle":"modal","data-target":"#addModal",className:"add btn btn-outline-secondary"},"Add Screen")),s.a.createElement("a",{href:"#",className:"navbar-brand d-flex align-items-center"},s.a.createElement("i",{style:{paddingRight:"20px"},className:"fas fa-film"}),s.a.createElement("strong",null,"Ticket Booking App")))))}}]),t}(s.a.Component)),h=(a(49),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{id:"myCarousel",class:"carousel slide","data-ride":"carousel"},s.a.createElement("ol",{class:"carousel-indicators"},s.a.createElement("li",{"data-target":"#myCarousel","data-slide-to":"0",class:""}),s.a.createElement("li",{"data-target":"#myCarousel","data-slide-to":"1",class:"active"}),s.a.createElement("li",{"data-target":"#myCarousel","data-slide-to":"2",class:""})),s.a.createElement("div",{class:"carousel-inner"},s.a.createElement("div",{class:"carousel-item"},s.a.createElement("img",{class:"first-slide",src:"https://mrmoviefiend.files.wordpress.com/2010/06/the-dark-knight-poster-11.jpg",alt:"First slide"})),s.a.createElement("div",{class:"carousel-item active"},s.a.createElement("img",{class:"second-slide",src:"http://www.underscores.fr/images/2010/09/iron-man-banner.jpg",alt:"Second slide"})),s.a.createElement("div",{class:"carousel-item"},s.a.createElement("img",{class:"third-slide",src:"https://postergirlpress.com/wp-content/uploads/2018/04/horizontal-movie-posters-bane-batman-standoff-the-dark-knight-rises-wall-poster1.jpg",alt:"Third slide"}))),s.a.createElement("a",{class:"carousel-control-prev",href:"#myCarousel",role:"button","data-slide":"prev"},s.a.createElement("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),s.a.createElement("span",{class:"sr-only"},"Previous")),s.a.createElement("a",{class:"carousel-control-next",href:"#myCarousel",role:"button","data-slide":"next"},s.a.createElement("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),s.a.createElement("span",{class:"sr-only"},"Next"))))}}]),t}(s.a.Component)),E=a(19),b=a.n(E),f=function(){return function(e){b.a.get("/screens").then(function(t){return e({type:"GET_ALL_SCREEN",payload:t.data})})}},v=function(e){return function(t){b.a.post("/screens",e).then(function(e){return t({type:"ADD_SCREEN",payload:e.data})})}},g=function(e){return function(t){t({type:"ADD_SCREEN_FAILED",payload:e})}},y=function(){return function(e){e({type:"ADD_SCREEN_RESET",payload:{message:null}})}},k=function(e){return function(t){b.a.get("/".concat(e)).then(function(e){return t({type:"GET_SCREEN",payload:e.data})})}},N=function(){return function(e){e({type:"GET_SCREEN_RESET",payload:[]})}},O=function(e){return function(t){b.a.post("/reserve",e).then(function(e){return t({type:"RESERVE_TICKET",payload:e.data})})}},j=a(14),w=a(77),S=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.getScreen()}},{key:"renderScreens",value:function(){var e=this.props.screens,t=(e.error,e.screens);e.loading;return null==this.props.screens.screens?s.a.createElement("h1",null,"LOADING"):null!==t.screens?t.screens.map(function(e){return s.a.createElement("div",{class:"col-md-4"},s.a.createElement("div",{class:"card mb-4 shadow-sm"},s.a.createElement("img",{class:"card-img-top",src:"https://www.theatreinchicago.com/images/articles/privatebank-theatre-seating-view.jpg",alt:"Card image cap"}),s.a.createElement("div",{class:"card-body"},s.a.createElement("div",null,s.a.createElement("h2",null,e.name)),s.a.createElement("div",{class:"d-flex justify-content-between align-items-center"},s.a.createElement("div",{class:"btn-group"},s.a.createElement(w.a,{type:"button",class:"btn btn-sm btn-outline-secondary",to:"/".concat(e.name)},"View Screen"))))))}):void 0}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{class:"album py-5 bg-light"},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},this.renderScreens()))))}}]),t}(s.a.Component),C=Object(j.b)(function(e){return{screens:e.allScreens}},n)(S),T=a(13),_=(a(72),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={name:"",image:"",number:"",alpha:""},a.handleNumber=a.handleNumber.bind(Object(T.a)(Object(T.a)(a))),a.handleRow=a.handleRow.bind(Object(T.a)(Object(T.a)(a))),a.handleScreenName=a.handleScreenName.bind(Object(T.a)(Object(T.a)(a))),a.handleUri=a.handleUri.bind(Object(T.a)(Object(T.a)(a))),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleSubmit",value:function(){""==this.state.name||""==this.state.number||""==this.state.alpha?alert("Fields cannot be empty"):this.props.addScreen(this.state)}},{key:"handleScreenName",value:function(e){this.setState({name:e.target.value})}},{key:"handleRow",value:function(e){this.setState({alpha:e.target.value})}},{key:"handleUri",value:function(e){this.setState({image:e.target.value})}},{key:"handleNumber",value:function(e){this.setState({number:e.target.value})}},{key:"componentWillUnmount",value:function(){this.props.addScreen_reset()}},{key:"showMessage",value:function(){var e=this;if(setTimeout(function(){e.props.addScreen_reset()},7e3),this.props.message){var t=this.props.message,a=t.success,n=t.error;if(a)return s.a.createElement("div",{class:"alert alert-success",role:"alert"},a);if(n)return s.a.createElement("div",{class:"alert alert-danger",role:"alert"},n)}}},{key:"handleClose",value:function(){this.props.getScreen()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"modal fade",id:"addModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Add Screen"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),s.a.createElement("div",{className:"modal-body"},this.showMessage(),s.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{for:"inputScreen"},"Screen Name"),s.a.createElement("input",{onChange:this.handleScreenName,type:"text",className:"form-control",id:"inputScreen","aria-describedby":"emailHelp",placeholder:"Enter screen name"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{for:"inputNumber"},"Number of seats"),s.a.createElement("input",{onChange:this.handleNumber,type:"number",className:"form-control",id:"inputNumber",placeholder:"Enter the number of seats"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{for:"inputRow"},"Row Alphabet"),s.a.createElement("input",{onChange:this.handleRow,type:"text",className:"form-control",id:"inputRow",placeholder:"Enter Row Alphabet"})))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{onClick:function(){return e.handleClose()},type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"),s.a.createElement("button",{onClick:function(){return e.handleSubmit()},type:"button",className:"btn btn-primary"},"Save changes")))))}}]),t}(s.a.Component)),R=Object(j.b)(function(e){return{message:e.screens.message.message}},n)(_),A=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(p,null),s.a.createElement(h,null),s.a.createElement(C,null),s.a.createElement(R,null))}}]),t}(s.a.Component),x=a(21),D=(a(31),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={reserve:a.props.selectedTickets,screenName:a.props.screenName},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"reserveSeats",value:function(){if(this.props.selectedTickets.length<=10&&this.state.reserve!==[]){var e={reserve:this.props.selectedTickets};this.props.reserveTickets(e),this.props.getOneScreen(this.props.screenName),alert("successfully reserved ! Refreshing page wait a while")}else alert("you can select only 10 tickets")}},{key:"render",value:function(){var e=this;return console.log(this.props.selectedTickets),console.log(this.props.ticketNos),console.log(this.props),s.a.createElement("div",{className:"col-md-4",style:{width:400}},s.a.createElement("div",{className:"booking-option"},s.a.createElement("div",{style:{marginTop:20},className:"text-center"},s.a.createElement("h4",null,"SELECTIONS"),this.props.ticketNos.map(function(e){return s.a.createElement("div",{style:{float:"left",margin:10,padding:5,backgroundColor:"white",color:"black"}},e)})),s.a.createElement("button",{onClick:function(){return e.reserveSeats()},className:"add btn btn-block btn-outline-secondary"},"Reserve seats")))}}]),t}(s.a.Component)),L=Object(j.b)(null,n)(D),G=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={id:a.props.id,tickets:[],toggle:[],selectedTicketNo:[]},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.getOneScreen(this.state.id)}},{key:"componentWillUnmount",value:function(){this.props.resetOneScreen()}},{key:"renderTickets",value:function(){var e=this;if(this.props.tickets[0])return this.props.tickets[0].row.map(function(t,a){return console.log(t),s.a.createElement("tr",null,s.a.createElement("td",null,t.rowAlphabet),t.seats.map(function(t,n){return 0==t.reserved?s.a.createElement("td",{className:t.seatNumber},s.a.createElement("i",{onClick:function(r){e.selectTickets(r,t,a,n,10*a+n)},className:"fas fa-chair"})):s.a.createElement("td",null,s.a.createElement("i",{style:{opacity:.2},className:"fas fa-chair"}))}))})}},{key:"selectTickets",value:function(e,t,a,n,r){var s=this,c=Object(x.a)(this.state.toggle);if(c[r]=!this.state.toggle[r],this.setState({toggle:c}),!0===c[r])e.target.style.color="red",this.setState({tickets:this.state.tickets.concat(t._id),selectedTicketNo:this.state.selectedTicketNo.concat("".concat(this.props.tickets[0].row[a].rowAlphabet.toUpperCase()).concat(t.seatNumber))}),console.log(this.state.tickets);else{var l=Object(x.a)(this.state.tickets),o=Object(x.a)(this.state.selectedTicketNo);e.target.style.color="black",this.state.tickets.forEach(function(e,a){t._id==e&&l.splice(a,1)}),this.state.selectedTicketNo.forEach(function(e,n){"".concat(s.props.tickets[0].row[a].rowAlphabet.toUpperCase()).concat(t.seatNumber)==e&&o.splice(n,1)}),this.setState({tickets:l}),this.setState({selectedTicketNo:o}),console.log(this.state.tickets)}}},{key:"render",value:function(){return null==this.props.tickets?s.a.createElement("h1",null,"Loading"):s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("table",null,s.a.createElement("tbody",null,this.renderTickets()))),s.a.createElement(L,{screenName:this.state.id,ticketNos:this.state.selectedTicketNo,selectedTickets:this.state.tickets}))}}]),t}(s.a.Component),M=Object(j.b)(function(e){return{tickets:e.tickets.state}},n)(G),F=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log(this.props.tickets),s.a.createElement("div",null,s.a.createElement(p,null),s.a.createElement("div",{className:"container"},s.a.createElement(M,{id:this.props.match.params.id})))}}]),t}(s.a.Component),I=a(78),U=a(79),W=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(I.a,null,s.a.createElement("div",null,s.a.createElement(U.a,{exact:!0,path:"/",component:A}),s.a.createElement(U.a,{path:"/:id",component:F})))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=a(18),H=a(37),J=a(5),V={message:{message:null}},z=(a(75),{state:[]}),K={screens:{screens:[],loading:!1,error:null}},P=Object(B.c)({screens:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SCREEN":return Object(J.a)({},e,{message:{message:t.payload}});case"ADD_SCREEN_FAILED":return Object(J.a)({},e,{message:t.payload});case"ADD_SCREEN_RESET":return Object(J.a)({},e,{message:{message:null}});default:return e}},tickets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_SCREEN":return t.payload;case"GET_SCREEN":return Object(J.a)({},e,{state:t.payload});case"GET_SCREEN_RESET":return console.log(t.payload),Object(J.a)({},e,{state:[]});default:return e}},allScreens:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_SCREEN":return Object(J.a)({},e,{screens:{screens:t.payload,loading:!1,error:null}});case"GET_ALL_SCREEN_FAILED":return Object(J.a)({},e,{screens:{screens:[],loading:!1,error:t.payload}});default:return e}}}),$=Object(B.d)(P,{},Object(B.a)(H.a));l.a.render(s.a.createElement(j.a,{store:$},s.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[39,2,1]]]);
//# sourceMappingURL=main.7a59e517.chunk.js.map